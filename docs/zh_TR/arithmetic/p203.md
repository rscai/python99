# P203: Determine the prime factors of a given positive integer (2)

質因數分解，但結果以[因數，重復數]形式展現。照例先寫測試用例：

[include](../../../tests/arithmetic/p203_test.py)

在P202中，已經實現了一個質因數分解方法，其返回形如`[3, 3, 5, 7]`的結果。現祇需在其結果上再加處理，分組統計列表中相同因數的數量，再以類如`[[3, 2], [5, 1], [7, 1]]`的形式展示即可。

質因數分解代碼實現：

[include](../../../python99/arithmetic/p202.py)

在P110「Run-length encoding of list（游程編碼）」中，已經實現了相似的功能。我們可以重用其中的方法。分解後的質因數列表中的數都是按序排列的，也就是說「重復的元素一定都是連續的」。首先，將質因數列表中的連續重復元素分組：然後，將分組逐個轉換為`[E, N]`項，`E`為質因數值，`N`為`E`重復的次數。

在P109中已經實現了列表中連續重復元素分組，這裏可以直接重用。

「將分組逐個轉換為`[E, N]`項」可以使用Python內建的List Comprehension實現。List Comprehension的本意是提供一種簡練的方式創建列表。常見的用法是將一些操作作用於列表中的每一個元素，然後把這些結果拼接成新的列表。List Comprehension的一般行式為：

```python
[f(x) fro x in l]
```

* `f`是某個函數，接受輸入`x`，輸出任意類型。函數`f`可以為空，也可以直接是表達式
* `x`局部變量，用於引用`l`中的每一個元素
* `l`列表

本例中，`x`是包含一至多個相同元素的列表，而`f`則要返回一個包含兩個元素的列表，第一個元素是`x`中的任意一個元素「這裏簡單點就選頭元素」，第二個元素是列表`x`的長度。f可以直接用表逹式實現為：

```python
[x[0], len(x)]
```

完整的代碼實現：

[include](../../../python99/arithmetic/p203.py)