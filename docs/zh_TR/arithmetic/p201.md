# P201: Determine whether a given integer number is prime

測試一個整數是否為質數。

>質數（Prime number），也稱素數，指在大於1的自然數中，除了1和該數自身外，無法被其他自然數整除的數（也可定義為只有1與該數本身兩個正因數的數）。大於1的自然數若不是質數，則稱之為合數（也稱為合成數）。[^wiki-prime_number]

照例先寫測試用例：

[include](../../../tests/arithmetic/p201_test.py)

>確認一個數n是否為質數有許多種方法。最基本的程序為試除法，但因為速率很慢，沒有什麼實際用處。有一類現代的質數測試可適用於任意數字上，另有一類更有效率的測試方法，則只能適用於特定的數字之上。大多數此類方法只能辯別n是否為質數。也能給出n的一個（或全部）質因數之程序稱為因數分解演算法。[^wiki-prime_number]

## 試除法

>測試n是否為質數的量基本方法為試除法。此一程序將n除以每個大於1且小於等於n的平方根之整數m。若存在一個相除為整數的結果，則n不是質數；反之則是個質數。實際上，若$$n = ab$$是個合數（其中$$a$$與$$b \ne 1$$），則其中一個因數a或b必定至大為$$\sqrt{n}$$。例如，對$$n=37$$使用試除法，將37除以$$m=2,3,4,5,6$$，沒有一個數能整除37，因此37為質數。此一程序若能知道直至$$\sqrt{n}$$的所有質數列表，因為試除法只檢查m為質數的狀況，所以會更有效率。例如，為檢查37是否為質數，只有3個相除是必要的（$$m=2,3,5$$），因為4與6為合數。
>作為一個簡單的方法，試除法在測試大整數時很快地會變得不切實際，因為可能的因數數量會隨著n的增加而迅速增加。依據下文所述之質數定理，小於$$\sqrt{n}$$的質數之數量約為$$\frac{\sqrt{n}}{ln\sqrt{n}}$$，因此使用試除法測試n是否為質數時賵大約會需要用到這麼多的數字。對$$n=10^{20}$$，此一數值約為4.5億，對許多實際應用而言都太過龐大。[^wiki-prime_number]

我們就使用「沒有什麼實際用處」的**試除法**。代碼實現：

[include](../../../python99/arithmetic/p201.py)

Python標準庫中提供了`math`模組，其提供了大量數學工具，包括求平方根`math.sqrt`和嚮下取整`math.floor`。

## 參考文献

[^wiki-prime_number]: https://zh.wikipedia.org/wiki/質數
