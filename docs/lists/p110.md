# P110: Run-length encoding of list

游程編碼。游程編碼是一種數據壓縮方法，其將連續重復的元素編碼為`[N,E]`項，`E`是元素值，`N`是元素`E`連續重復出現的次數。比如，`[1, 1, 2, 3, 3, 4]`按游程編碼則為`[[2, 1], [1, 2], [2, 3], [1, 4]]`。
首先，還是先寫測試用例：

[include](../../tests/lists/p110_test.py)

這個問題可以分兩步解決，先將列表中的連續重復元素分組，再將分組逐個轉換為`[N, E]`項。「將列表中的連續重復元素分組」已在P109中實現，可以直接重用。剩下的，就是把一組組「連續重復元素」轉換為`[N, E]`項了。

Python提供了稱為**List Comprehension**的方法，使用List comprehension可以方便地將列表中的元素逐個轉換為另一種形式。List Comprehension的本意是提供一種簡練的方式創建列表。常見的用法是將一些操作作用於列表中的每一個元素，然後把這些結果拼接成新的列表。List Comprehension的一般行式為：

```python
[ f(x) for x in l]
```

* `f`是某個函數，接受輸入`x`，輸出任意類型。函數`f`可以為空，也可以直接是表達式
* `x`局部變量，用於引用`l`中的每一個元素
* `l`列表

在本例中，`x`是包含一至多個相同元素的列表，而`f`則要返回一個包含兩個元素的列表，第一個元素是列表`x`的長度，第二個元素是`x`中的任意一個元素「這裏簡單點就選頭元素」。`f`可以直接用表逹式實現為：

```python
[len(x), x[0]]
```

完整的代碼實現：

[include](../../python99/lists/p110.py)
